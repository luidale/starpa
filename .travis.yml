language: python
python:
  - "3.4"
  - "3.5"
  - "3.6"
  - "pypy3"
# command to install dependencies
install:
#travis can is not able to install schema
#  - which python
#  - curl -sSf -o python-2.7.tar.bz2 ${archive_url}
#  - sudo tar xjf python-2.7.tar.bz2 --directory / 
#  - which python
  - wget https://github.com/yhoogstrate/flaimapper/archive/v3.0.0.tar.gz
  - tar xvf v3.0.0.tar.gz --gunzip
  - cd flaimapper-3.0.0
  - cd src
  - sudo pip install .
  - cd ../..
  - rm -r flaimapper-3.0.0
  - pip install schema 
  - pip install cutadapt 
  - sudo apt-get update -qq
  - sudo apt-get install -qq samtools
  - sudo apt-get install -qq bowtie2
  - sudo apt-get install -qq bedtools
  - wget https://github.com/weizhongli/cdhit/releases/download/V4.6.8/cd-hit-v4.6.8-2017-1208-source.tar.gz
  - tar xvf cd-hit-v4.6.8-2017-1208-source.tar.gz --gunzip
  - cd cd-hit-v4.6.8-2017-1208
  - make
  - cd cd-hit-auxtools
  - make
  - cd ../..
  - python setup.py install
#  - pip install -e .
# command to run tests
script:
  - pytest # or py.test for Python versions 3.5 and below

#notifications
notifications:
  email:
    on_success: never # default: change
    on_failure: always # default: always
